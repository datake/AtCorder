<?php
$edge="";
$edgetmp="";
//$kishutu="0,999,6,993,11,988,13,986,21,978,35,964,37,962,46,953,48,951,60,939,70,929,72,927,108,891,115,884,141,858,143,856,145,854,150,849,167,832,178,821,183,816,206,793,217,782,229,770,268,731,297,702,301,698,332,667,361,638,363,636,390,609,461,538,466,533,483,516,509,490,528,471,571,428,719,280,727,272,732,267,746,253,907,92,985,14";
//$kishutu="0,999,6,993,11,988,13,986,21,978,35,964,37,962,46,953,48,951,60,939,70,929,72,927,108,891,115,884,141,858,143,856,145,854,150,849,167,832,178,821,183,816,206,793,217,782,229,770,268,731,297,702,301,698,332,667,361,638,363,636,390,609,461,538,466,533,483,516,509,490,528,471,571,428,719,280,727,272,732,267,746,253,907,92,985,14,62,937,71,928,75,924,94,905,132,867,236,763,263,736";
//$kishutu="0,999,6,993,11,988,13,986,21,978,35,964,37,962,46,953,48,951,60,939,70,929,72,927,108,891,115,884,141,858,143,856,145,854,150,849,167,832,178,821,183,816,206,793,217,782,229,770,268,731,297,702,301,698,332,667,361,638,363,636,390,609,461,538,466,533,483,516,509,490,528,471,571,428,719,280,727,272,732,267,746,253,907,92,985,14,62,937,71,928,75,924,94,905,132,867,236,763,263,736,103,51,139,69,241,120,433,216,601,300,863,431,935,467";
//$kishutu="6,993,11,988,13,986,21,978,35,964,37,962,46,953,48,951,60,939,70,929,72,927,108,891,115,884,141,858,143,856,145,854,150,849,167,832,178,821,183,816,206,793,217,782,229,770,268,731,297,702,301,698,332,667,361,638,363,636,390,609,461,538,466,533,483,516,509,490,528,471,571,428,719,280,727,272,732,267,746,253,907,92,985,14,62,937,71,928,75,924,94,905,132,867,236,763,263,736,103,51,139,69,241,120,433,216,601,300,863,431,935,467,137,140";
//$kishutu="11,988,13,986,21,978,35,964,37,962,46,953,48,951,60,939,70,929,72,927,108,891,115,884,141,858,143,856,145,854,150,849,167,832,178,821,183,816,206,793,217,782,229,770,268,731,297,702,301,698,332,667,361,638,363,636,390,609,461,538,466,533,483,516,509,490,528,471,571,428,719,280,727,272,732,267,746,253,907,92,985,14,62,937,71,928,75,924,94,905,132,867,236,763,263,736,103,51,139,69,241,120,433,216,601,300,863,431,935,467,137,140,17,20,262,265";
$kishutu="13,986,21,978,35,964,37,962,46,953,48,951,60,939,70,929,72,927,108,891,115,884,141,858,143,856,145,854,150,849,167,832,178,821,183,816,206,793,217,782,229,770,268,731,297,702,301,698,332,667,361,638,363,636,390,609,461,538,466,533,483,516,509,490,528,471,571,428,719,280,727,272,732,267,746,253,907,92,985,14,62,937,71,928,75,924,94,905,132,867,236,763,263,736,103,51,139,69,241,120,433,216,601,300,863,431,935,467,137,140,17,20,262,265,95,693";
$kishutuarray=explode(',',$kishutu);

$edge=$kishutu;

for ($i = 0,$j = 999; $j < 1000; $i+=1,$j-=1){
  sleep(1);
  $key1 = in_array($i,$kishutuarray);
  $key2 = in_array($j,$kishutuarray);
  if (!$key1 && !$key2){
    $edgetmp=$edge.",".$i .",". $j ;
     $url = "https://game.coderunner.jp/query?token=5WF8YOIDL1XY8JDLYAOQHJYNYBIIXZQN&v=" . $edgetmp;
     $html = file_get_contents($url);
     if($html){//うまくとれた場合
       $edge=$edge.",".$i .",". $j ;
       $html = file_get_contents($url);
      var_dump("success");
      var_dump($edge);
      array_push($kishutuarray, $i, $j);
    }//失敗なら何もしない
  }
}
/*
 * https://coderunner.jp/mypage-problem-pa.html
 * https://game.coderunner.jp/
 * 以下反省
 * サーバーから返ってきたデータをログに残しておくべきだった
 * やみくもな探索しかしてなかったので、なるべく長い枝の場合に追加する処理をするべきだった
 * 開始時間を間違えない
 * 
 * */
